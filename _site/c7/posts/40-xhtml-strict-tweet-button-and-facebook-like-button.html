<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
      <title>XHTML Strict Tweet Button and Facebook Like Button</title>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <meta http-equiv="content-language" content="en-gb" />
      
      <meta name="description" content="We needed a smart way to grow targeted and relevant Twitter followers. The alternatives were either ugly, abandoned or downright shady (sometimes all three). There had to be a better way. There wasn’t, so we built one! Checkout Tweetlr and build an audience like a Rockstar! I like to chillax just as much as the other guy. But when it comes to cross browser compatibility, you know I’m all business. Well, I recently integrated with...">
      
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10">
      <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,400,300,700|Lora:400,700,400italic" rel="stylesheet" type="text/css">
      <link rel="stylesheet" type="text/css" href="/css/main.css" />
      <link rel="stylesheet" type="text/css" href="/css/syntax.css" />
      <link href="atom.xml" type="application/atom+xml" rel="alternate" title="Site ATOM Feed">
  </head>

  <body>
    <!--[if lt IE 7]>
        <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <main>
      <section id="single-wrap">
  <article class="single-content" itemscope itemtype="//schema.org/BlogPosting">
	
    <div class="feat">
      <h5 class="page-date">
        <time datetime="2010-12-13T20:30:57-05:00" itemprop="datePublished">
          13 December 2010
        </time>
      </h5>
    </div>

    <h1 class="page-title" itemprop="name headline">XHTML Strict Tweet Button and Facebook Like Button</h1>
    
    <h5 class="page-author">Handwritten by TVD</h5>

    <div itemprop="articleBody">
      <p><em>We needed a smart way to grow targeted and relevant Twitter followers. The alternatives were either ugly, abandoned or downright shady (sometimes all three). There had to be a better way. There wasn’t, so we built one! Checkout <a href="http://techoctave.com/tweetlr">Tweetlr</a> and build an audience like a Rockstar!</em></p>

<p>I like to chillax just as much as the other guy. But when it comes to <a href="https://techoctave.com/c7/posts/33-the-truth-about-cross-browser-development-and-3-secrets-to-better-compatibility">cross browser compatibility, you know I’m all business</a>. Well, I recently integrated with Twitter’s Tweet Button and Facebook’s Like Button for my open source project <a href="http://techoctave.com/blogcast">Blogcast</a>. I was not happy with the results.</p>

<p>XHTML Strict 1.0 did not validate and after the upgrade to Rails 3, HTML5 didn’t validate either! I needed a better way to integrate with Twitter and Facebook. I needed a way that didn’t compromise validation and thus, maintainability.</p>

<h3 id="pure-javascript-buttons-for-twitter--facebook">Pure JavaScript Buttons for Twitter &amp; Facebook</h3>

<p>Inspired by the Digg Button, here’s the XHTML Strict version of Twitter’s Tweet Button and Facebook’s Like Button:</p>

<h4 id="twitters-tweet-button">Twitter’s Tweet Button</h4>

<p><em>Pure JavaScript Solution: Asynchronous.</em></p>

<p>Here, I use JavaScript to write the anchor hook for the Tweet Button to wrap itself around:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
<span class="c1">//&lt;![CDATA[</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">'&lt;a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="YourTwitter"&gt;Tweet&lt;/a&gt;'</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'SCRIPT'</span><span class="p">),</span> <span class="nx">s1</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'SCRIPT'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
	<span class="nx">s</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">'text/javascript'</span><span class="p">;</span>
	<span class="nx">s</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
	<span class="nx">s</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">'http://platform.twitter.com/widgets.js'</span><span class="p">;</span>
	<span class="nx">s1</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">s1</span><span class="p">);</span>
<span class="p">})();</span>
<span class="c1">//]]&gt;</span>
<span class="o">&lt;</span><span class="sr">/script&gt;</span></code></pre></figure>

<p>Notice the Twitter JavaScript widget is written asynchronously. This way my page load isn’t slowed by Twitter’s widget since it is now non-blocking. Asynchronous means my blog content will load before any of the Twitter Tweet Button objects.</p>

<p>NOTE: Change the data-via attribute from “YourTwitter” to your actual twitter account. This will do two things:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"> 1. Through the via note, it gives you credit when your content is tweeted. E.g. XHTML Strict Tweet Button and Facebook Like Button http://t.co/URLsepW via @tiandavis
 
 2. Once your content is tweeted, Twitter suggests your reader to follow your twitter account. So this can be used as a method of increasing your Twitter followers.</code></pre></figure>

<p>Simply remove the <em>data-via=”YourTwitter”</em> piece of code if you don’t have a twitter account. Enjoy!</p>

<p><em>Query String Solution: Synchronous.</em></p>

<p>A synchronous solution is also available for Twitter’s Tweet Button. Here, instead of using HTML5 data attributes, this solution passes the data attributes as query parameters to Twitter’s share service:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://twitter.com/share?count=vertical&amp;amp;via=YourTwitter"</span> <span class="na">class=</span><span class="s">"twitter-share-button"</span><span class="nt">&gt;</span>Tweet<span class="nt">&lt;/a&gt;</span>

    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"http://platform.twitter.com/widgets.js"</span><span class="nt">&gt;&lt;/script&gt;</span></code></pre></figure>

<p>This solution is somewhat cleaner and certainly involves less code. However, this solution also means Twitter’s code will load at the same time as your app’s code (synchronously). This could potentially block some of your content from loading until the Tweet Button has finished loading.</p>

<p>I’m not really a fan of this solution because I believe my content should Trump Twitter’s Tweet Button and thus, I feel the Tweet Button should load after my content.</p>

<p>Also, for each property you should URL encode the value you are sending. Failure to do so could mean some of your URLs don’t function properly. <em>You won’t have this issue if you choose the asynchronous Tweet Button solution.</em></p>

<p>For speed, reliability and maintainability, better to go with the asynchronous Tweet Button solution.</p>

<p>NOTE: Change the data-via attribute from “YourTwitter” to your actual twitter account. <em>See above.</em></p>

<h4 id="facebooks-like-button">Facebook’s Like Button</h4>

<p><em>Pure JavaScript Solution: Asynchronous.</em></p>

<p>The same benefits achieved in the Tweet Button are achieved here with the Facebook Like Button:</p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
<span class="c1">//&lt;![CDATA[</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">'&lt;fb:like width="250"&gt;&lt;/fb:like&gt;'</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'SCRIPT'</span><span class="p">),</span> <span class="nx">s1</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'SCRIPT'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
	<span class="nx">s</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">'text/javascript'</span><span class="p">;</span>
	<span class="nx">s</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
	<span class="nx">s</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">'http://connect.facebook.net/en_US/all.js#xfbml=1'</span><span class="p">;</span>
	<span class="nx">s1</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">s1</span><span class="p">);</span>
<span class="p">})();</span>
<span class="c1">//]]&gt;</span>
<span class="o">&lt;</span><span class="sr">/script&gt;</span></code></pre></figure>

<p>In particular, I avoid placing the FBML tag directly in my XHTML code. It goes without saying that FBML is thoroughly not standards-compliant code. In addition, I see no reason to chase non-standard HTML headers just because Facebook thinks it’s cool to have its own custom markup.</p>

<h3 id="a-note-on-maintainability">A Note on Maintainability</h3>

<p>XHTML Strict concerns go beyond validation and truly speak to maintainability. The more XHTML Strict your code is, the less likely it is to break a piece of JavaScript.</p>

<p>Using semantic XHTML also increases the chance your application will display as expected across a wider variety of web browsers.</p>

<p>Also, when you do break validation, it will be easier to track the source without needless validation errors piling up from social media widgets. Inevitably, there will come a time when validation isn’t achievable, but this isn’t one of them.</p>

<p>Maintaining a clean XHTML Strict 1.0 code base may take a little more work, but I think it speaks to a higher calling than code. I think it speaks to Craftsmanship!</p>

<p>Until next time, take care Beloved!</p>


    </div>
    
    <div id="share" class="feat">      
      <p>discuss on twitter</p>
      
      <a href="//twitter.com/share" class="popup">
        <span class="icon-twitter"></span>
      </a>
      
      <div class="line"></div>
      
      <br/>
      
      <p>every day thousands of developers use our charts & gauges to get the job done right</p>
      
      <img src="/images/blog-header.png" usemap="#map" />
      
      <map name="map">
        <area shape="rect" coords="4, 4, 247, 276" href="/charts/" alt="JavaScript Charts" target="_blank"/>
        <area shape="rect" coords="317, 3, 582, 277" href="/gauges/" alt="JavaScript Gauges" target="_blank"/>
        <area shape="rect" coords="652, 4, 906, 277" href="/simulation/" alt="JavaScript Flight Gauges" target="_blank"/>  
      </map>
      
      <br><br><br>
      <p><a href="/c7/" style="text-decoration: none;">← return to all articles</a></p>
    </div>
    
  </article>
</section>



    </main>

    <footer>
        <p style="font-size: 80%;">TechOctave, The Lion, "Beautiful & Inspired" are Registered Trademarks of TechOctave, LLC.</p>
        <p style="font-size: 65%;">HANDCRAFTED WITH <abbr style="color: #FF2400; font-variant: none" title="love">❤</abbr> IN COLUMBUS OHIO</p>
    </footer>

    <script src="/js/jquery.js"></script>
    <script src="/js/imageMapResizer.js"></script>
    <script src="/js/moment.js"></script>
    <script>
    jQuery(document).ready(function($) {
      	$("map").imageMapResize();
        
        var date = moment().format('DD MMMM YYYY');
        $(".date").html(date);
    });
    </script>
    
    
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-17961498-1', 'techoctave.com');
        ga('send', 'pageview');
      </script>
    

  </body>
</html>
